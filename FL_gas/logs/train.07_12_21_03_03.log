2024-07-12 21:03:03,542 [MainThread] [INFO ]  Configurations: {'task_id': '', 'data': {'root': './datasets', 'dataset': 'cifar10', 'split_type': 'dir', 'min_size': 10, 'data_amount': 0.05, 'iid_fraction': 0.1, 'user': False, 'train_test_split': 0.9, 'class_per_client': 1, 'num_of_clients': 100, 'alpha': 0.5, 'weights': None}, 'model': 'resnet18', 'test_mode': 'test_in_server', 'test_method': 'average', 'server': {'track': False, 'rounds': 10, 'clients_per_round': 10, 'test_every': 1, 'save_model_every': 10, 'save_model_path': '', 'batch_size': 32, 'test_all': False, 'random_selection': True, 'aggregation_stragtegy': 'FedAvg', 'aggregation_content': 'all', 'use_gas': True, 'gas_p': 1000, 'base_agg': 'bulyan'}, 'client': {'track': False, 'batch_size': 32, 'test_batch_size': 5, 'local_epoch': 1, 'optimizer': {'type': 'Adam', 'lr': 0.001, 'momentum': 0.9, 'weight_decay': 0}, 'seed': 0, 'local_test': False}, 'gpu': 1, 'distributed': {'backend': 'nccl', 'init_method': '', 'world_size': 0, 'rank': 0, 'local_rank': 0}, 'tracking': {'database': '', 'log_file': '', 'log_level': 'INFO', 'metric_file': '', 'save_every': 1}, 'resource_heterogeneous': {'simulate': False, 'hetero_type': 'real', 'level': 3, 'sleep_group_num': 1000, 'total_time': 1000, 'fraction': 1, 'grouping_strategy': 'greedy', 'initial_default_time': 5, 'default_time_momentum': 0.2}, 'seed': 0, 'attacker': {'byz_ratio': 0.2, 'lie_z': 1.5}, 'is_distributed': False, 'device': 0}
2024-07-12 21:03:03,549 [MainThread] [INFO ]  Downloaded packaged dataset cifar10: cifar10_dir_100_10_1_0.5_0.zip
2024-07-12 21:04:14,042 [MainThread] [INFO ]  Start CIFAR10 data simulation
2024-07-12 21:04:14,180 [MainThread] [INFO ]  {'f0000000': {0: 86, 1: 69, 2: 2, 3: 34, 4: 83, 5: 17, 6: 21, 7: 209}, 'f0000001': {0: 2, 1: 28, 2: 37, 3: 135, 4: 11, 5: 62, 7: 132, 8: 47, 9: 318}, 'f0000002': {0: 1, 1: 3, 2: 6, 3: 3, 5: 7, 6: 2, 7: 114, 8: 5, 9: 35}, 'f0000003': {0: 36, 1: 1, 2: 21, 3: 70, 5: 47, 6: 7, 7: 5, 8: 226, 9: 5}, 'f0000004': {0: 46, 1: 54, 2: 46, 3: 37, 4: 8, 5: 296, 6: 82}, 'f0000005': {0: 114, 1: 123, 2: 68, 3: 49, 4: 8, 5: 132, 6: 89}, 'f0000006': {0: 1, 2: 32, 3: 24, 4: 180, 5: 1, 7: 16, 8: 166, 9: 54}, 'f0000007': {0: 66, 2: 9, 3: 38, 4: 32, 5: 8, 6: 24, 8: 1, 9: 30}, 'f0000008': {0: 103, 1: 34, 2: 1, 3: 86, 4: 55, 5: 5, 6: 105, 7: 45}, 'f0000009': {1: 10, 2: 250, 3: 1, 4: 21, 5: 24, 6: 186, 7: 12}, 'f0000010': {0: 106, 1: 19, 3: 182, 4: 15, 5: 114, 6: 82}, 'f0000011': {0: 47, 2: 103, 3: 1, 4: 19, 5: 36, 6: 1, 7: 1, 8: 314}, 'f0000012': {0: 42, 1: 45, 2: 56, 3: 12, 5: 60, 6: 86, 7: 95, 8: 6}, 'f0000013': {0: 45, 1: 80, 2: 87, 3: 59, 4: 33, 5: 2, 6: 27, 7: 296}, 'f0000014': {0: 82, 1: 26, 2: 22, 3: 4, 4: 18, 5: 17, 6: 231, 7: 19, 8: 9, 9: 197}, 'f0000015': {0: 24, 1: 120, 2: 23, 3: 42, 4: 82, 5: 123, 6: 162}, 'f0000016': {0: 5, 2: 44, 3: 28, 4: 77, 5: 19, 6: 1, 7: 42, 8: 18, 9: 115}, 'f0000017': {0: 1, 1: 2, 2: 35, 3: 49, 4: 27, 5: 96, 6: 10, 7: 11, 8: 25, 9: 15}, 'f0000018': {0: 5, 2: 59, 3: 31, 4: 30, 5: 23, 6: 15, 7: 109, 8: 13, 9: 24}, 'f0000019': {0: 6, 1: 18, 2: 53, 3: 62, 4: 15, 5: 47, 6: 40, 7: 22, 8: 9, 9: 353}, 'f0000020': {0: 2, 1: 25, 5: 117, 6: 23, 7: 1}, 'f0000021': {0: 13, 1: 1, 2: 121, 3: 4, 4: 15, 5: 37, 7: 10, 8: 102, 9: 268}, 'f0000022': {0: 40, 1: 221, 2: 60, 3: 143, 4: 4, 5: 119}, 'f0000023': {1: 48, 2: 2, 3: 24, 4: 18, 5: 19, 6: 461}, 'f0000024': {0: 20, 1: 271, 2: 105, 3: 61, 4: 551}, 'f0000025': {0: 97, 1: 28, 2: 36, 3: 43, 4: 64, 5: 1, 7: 20, 8: 4, 9: 416}, 'f0000026': {0: 111, 1: 15, 2: 17, 3: 27, 4: 110, 5: 1, 6: 5, 7: 149, 8: 56, 9: 46}, 'f0000027': {0: 56, 1: 234, 2: 59, 3: 4, 4: 79, 5: 52, 7: 4, 8: 87}, 'f0000028': {0: 2, 1: 5, 2: 148, 3: 1, 4: 17, 5: 13, 6: 191, 7: 61, 8: 63}, 'f0000029': {0: 40, 1: 2, 2: 64, 4: 299, 5: 148}, 'f0000030': {0: 11, 1: 95, 2: 12, 3: 4, 4: 52, 5: 38, 6: 16, 8: 183, 9: 171}, 'f0000031': {0: 273, 1: 23, 2: 19, 3: 107, 4: 5, 5: 18, 6: 17, 7: 50}, 'f0000032': {0: 193, 1: 135, 2: 58, 3: 120}, 'f0000033': {0: 12, 1: 2, 2: 31, 3: 124, 4: 123, 5: 5, 7: 310}, 'f0000034': {0: 124, 1: 23, 2: 5, 3: 107, 4: 4, 5: 454}, 'f0000035': {0: 481, 2: 58}, 'f0000036': {0: 195, 1: 15, 3: 3, 4: 16, 5: 39, 6: 1, 7: 303}, 'f0000037': {0: 9, 1: 128, 2: 5, 3: 77, 4: 123, 5: 1, 6: 54, 7: 39, 8: 100}, 'f0000038': {0: 31, 1: 229, 2: 215, 3: 2, 4: 88}, 'f0000039': {0: 76, 1: 1, 2: 5, 3: 16, 4: 2, 5: 90, 7: 13, 8: 25, 9: 100}, 'f0000040': {0: 32, 1: 19, 3: 214, 4: 140, 5: 3, 6: 8, 7: 10, 8: 344}, 'f0000041': {0: 5, 1: 47, 2: 10, 3: 34, 4: 62, 5: 173, 6: 317}, 'f0000042': {0: 8, 1: 22, 2: 55, 3: 138, 4: 29, 5: 32, 6: 113, 7: 20, 8: 32}, 'f0000043': {0: 4, 1: 2, 2: 1, 3: 1, 4: 65, 5: 19, 6: 2, 7: 13, 8: 22, 9: 154}, 'f0000044': {0: 13, 1: 26, 2: 9, 3: 120, 4: 2, 5: 3, 6: 2, 7: 141, 9: 9}, 'f0000045': {0: 2, 1: 83, 2: 3, 3: 20, 4: 26, 6: 13, 7: 7, 8: 32, 9: 149}, 'f0000046': {0: 8, 1: 22, 2: 7, 3: 4, 4: 98, 5: 4, 6: 106, 7: 136, 8: 196}, 'f0000047': {0: 17, 1: 1, 2: 76, 3: 21, 4: 70, 5: 4, 6: 83, 7: 29, 8: 5, 9: 61}, 'f0000048': {0: 5, 1: 159, 2: 128, 3: 2, 4: 13, 5: 55, 6: 74, 7: 72}, 'f0000049': {0: 103, 1: 29, 2: 2, 3: 1, 4: 45, 5: 8, 6: 116, 7: 19, 8: 217}, 'f0000050': {0: 80, 1: 1, 2: 40, 3: 4, 4: 201, 5: 201}, 'f0000051': {0: 123, 1: 21, 2: 59, 3: 27, 4: 29, 5: 194, 6: 138}, 'f0000052': {1: 3, 2: 491, 3: 137}, 'f0000053': {0: 3, 1: 71, 2: 7, 3: 47, 4: 36, 5: 2, 6: 45, 7: 11, 8: 58, 9: 19}, 'f0000054': {1: 146, 2: 69, 3: 12, 4: 99, 5: 15, 6: 15, 7: 1, 8: 7, 9: 78}, 'f0000055': {0: 30, 1: 57, 2: 15, 4: 25, 5: 8, 6: 96, 7: 105, 8: 52, 9: 17}, 'f0000056': {0: 54, 1: 87, 2: 13, 3: 116, 4: 32, 5: 113, 6: 250}, 'f0000057': {0: 5, 2: 34, 3: 93, 4: 8, 5: 1, 6: 173, 7: 83, 8: 31, 9: 85}, 'f0000058': {0: 12, 1: 24, 2: 4, 3: 192, 4: 82, 5: 9, 6: 2, 7: 100, 8: 24, 9: 15}, 'f0000059': {0: 65, 2: 154, 3: 19, 4: 91, 5: 34, 6: 2, 7: 134, 8: 136}, 'f0000060': {0: 56, 1: 3, 2: 1, 3: 202, 4: 74, 5: 43, 6: 3, 7: 3, 8: 146}, 'f0000061': {0: 18, 1: 89, 2: 14, 3: 277, 4: 3, 5: 4, 6: 19, 7: 71, 8: 22}, 'f0000062': {0: 20, 1: 2, 2: 39, 3: 34, 4: 29, 5: 217, 6: 35, 7: 4, 8: 113, 9: 77}, 'f0000063': {0: 282, 1: 47, 2: 1, 3: 28, 5: 43, 6: 4, 7: 206}, 'f0000064': {0: 30, 1: 41, 2: 3, 3: 1, 4: 5, 5: 18, 6: 1, 7: 23, 8: 17, 9: 2}, 'f0000065': {0: 2, 1: 2, 3: 27, 4: 1, 5: 140, 6: 20, 7: 8, 8: 15, 9: 1}, 'f0000066': {0: 2, 1: 60, 2: 29, 3: 2, 4: 2, 5: 42, 6: 11, 7: 35, 9: 81}, 'f0000067': {0: 72, 1: 3, 2: 15, 3: 17, 4: 19, 6: 150, 7: 9, 8: 1, 9: 7}, 'f0000068': {0: 10, 1: 20, 2: 4, 3: 22, 4: 164, 5: 5, 6: 1, 7: 101, 8: 205}, 'f0000069': {0: 4, 1: 63, 3: 16, 5: 17, 6: 24, 7: 135, 8: 198}, 'f0000070': {0: 115, 2: 11, 4: 30, 5: 33, 6: 11, 7: 239, 8: 5, 9: 2}, 'f0000071': {1: 26, 2: 102, 3: 58, 4: 2, 5: 1, 6: 6, 7: 3, 8: 7, 9: 21}, 'f0000072': {0: 6, 1: 114, 2: 130, 3: 4, 4: 18, 6: 91, 7: 3, 8: 216}, 'f0000073': {0: 92, 2: 3, 3: 13, 5: 50, 6: 136, 7: 6, 8: 7, 9: 61}, 'f0000074': {0: 28, 2: 2, 3: 3, 4: 138, 5: 56, 6: 78, 7: 184, 8: 331}, 'f0000075': {0: 5, 1: 1, 2: 124, 3: 36, 4: 25, 5: 1, 6: 3, 7: 294, 8: 4, 9: 166}, 'f0000076': {0: 162, 1: 95, 2: 12, 3: 54, 4: 44, 5: 6, 6: 78, 7: 39, 8: 102}, 'f0000077': {0: 199, 1: 30, 2: 157, 3: 14, 4: 22, 5: 20, 6: 16, 7: 3, 8: 6, 9: 24}, 'f0000078': {0: 20, 1: 185, 2: 10, 3: 193, 4: 4, 5: 3, 6: 8, 7: 7, 8: 206}, 'f0000079': {0: 1, 1: 87, 2: 168, 3: 31, 4: 24, 5: 114, 6: 50, 7: 57}, 'f0000080': {0: 43, 1: 4, 2: 1, 3: 177, 4: 13, 5: 8, 6: 2, 7: 28, 8: 22, 9: 24}, 'f0000081': {0: 32, 1: 51, 2: 6, 3: 3, 4: 36, 5: 75, 7: 9, 8: 1, 9: 340}, 'f0000082': {0: 3, 1: 9, 2: 34, 3: 28, 4: 129, 5: 8, 6: 1, 7: 46, 8: 75, 9: 1}, 'f0000083': {0: 165, 1: 24, 2: 3, 3: 129, 4: 70, 5: 29, 7: 14, 8: 1, 9: 227}, 'f0000084': {0: 6, 1: 25, 2: 44, 3: 73, 4: 1, 5: 9, 6: 4, 7: 124, 9: 34}, 'f0000085': {0: 108, 1: 323, 2: 5, 3: 1, 4: 29, 5: 10, 6: 16, 8: 65}, 'f0000086': {0: 12, 2: 10, 3: 3, 4: 42, 5: 77, 6: 21, 7: 9, 8: 45, 9: 215}, 'f0000087': {0: 17, 1: 12, 2: 21, 3: 26, 4: 21, 5: 28, 6: 4, 7: 164, 8: 95, 9: 67}, 'f0000088': {0: 27, 1: 19, 2: 25, 3: 19, 4: 3, 5: 9, 6: 76, 8: 15, 9: 96}, 'f0000089': {0: 131, 1: 8, 2: 147, 3: 50, 5: 122, 6: 1, 8: 14, 9: 14}, 'f0000090': {0: 43, 1: 298, 2: 5, 3: 80, 4: 8, 5: 4, 6: 50, 7: 18}, 'f0000091': {0: 21, 1: 27, 2: 18, 4: 118, 5: 136, 6: 2, 8: 90, 9: 157}, 'f0000092': {0: 41, 1: 50, 2: 56, 3: 65, 4: 84, 5: 23, 6: 157, 7: 7, 8: 5, 9: 155}, 'f0000093': {0: 4, 1: 83, 2: 25, 3: 207, 4: 196}, 'f0000094': {0: 2, 1: 28, 2: 69, 3: 26, 4: 47, 5: 78, 6: 126, 7: 18, 8: 75, 9: 44}, 'f0000095': {0: 9, 1: 10, 2: 46, 3: 12, 4: 32, 5: 6, 6: 176, 7: 108, 8: 37, 9: 78}, 'f0000096': {0: 2, 1: 50, 2: 46, 3: 3, 4: 66, 5: 211, 6: 82, 7: 52}, 'f0000097': {0: 14, 1: 3, 2: 20, 3: 37, 4: 58, 5: 5, 6: 42, 7: 1, 8: 160, 9: 155}, 'f0000098': {0: 12, 1: 12, 2: 274, 3: 9, 5: 9, 7: 3, 8: 83, 9: 217}, 'f0000099': {0: 11, 1: 143, 2: 169, 3: 4, 4: 6, 5: 174, 6: 1, 8: 1}}
2024-07-12 21:04:14,183 [MainThread] [INFO ]  Complete CIFAR10 data simulation
2024-07-12 21:04:17,440 [MainThread] [INFO ]  Total training data amount: 50000
2024-07-12 21:04:17,440 [MainThread] [INFO ]  Total testing data amount: 10000
2024-07-12 21:04:18,071 [MainThread] [INFO ]  Clients in total: 100
2024-07-12 21:04:18,146 [MainThread] [INFO ]  
-------- round 0 --------
2024-07-12 21:04:18,146 [MainThread] [INFO ]  --- start training ---
